webpackJsonp([4],{O2eM:function(e,t){},gfUV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"user",data:function(){return{token:"",fullHeight:0,collegeList:[{value:"西南交通大学",label:"西南交通大学"}],college:"",loading:!0,userList:[],userCurrentPage:1,userPageSize:20,userTotal:0}},mounted:function(){var e=this;this.fullHeight=document.documentElement.clientHeight-this.$refs.headerView.offsetHeight-this.$refs.headSearchView.offsetHeight-220,window.onresize=function(){e.fullHeight=document.documentElement.clientHeight-e.$refs.headerView.offsetHeight-e.$refs.headSearchView.offsetHeight-220},localStorage.getItem("islogin")?this.getUserList():this.common.loginOut(this)},methods:{getUserList:function(){var e=this;this.loading=!0,this.common.requestDataParams("/vk/users","GET",{college:e.college,page:e.userCurrentPage,limit:e.userPageSize}).then(function(t){e.userList=t.data.data,e.userTotal=t.data.total,e.loading=!1}).catch(function(e){console.log(e)})},userCurrentChange:function(e){this.userCurrentPage=e,this.getUserList()},refresh:function(){this.getUserList()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{ref:"headerView"},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("\n                用户列表\n                "),a("div",{staticClass:"el-header-right"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}})],1)])],1)],1),e._v(" "),a("div",{ref:"headSearchView"},[a("el-row",{staticClass:"el-top"},[a("el-col",{attrs:{span:24}},[a("el-select",{attrs:{size:"small",placeholder:"学校"},model:{value:e.college,callback:function(t){e.college=t},expression:"college"}},e._l(e.collegeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.refresh()}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-top",attrs:{data:e.userList,height:e.fullHeight||null,size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone_number",label:"手机号"}})],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"page-block",attrs:{md:24}},[a("el-pagination",{attrs:{background:!0,"page-size":e.userPageSize,total:e.userTotal,"current-page":e.userCurrentPage,layout:"total, prev, pager, next, jumper"},on:{"current-change":e.userCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(l,r,!1,function(e){a("O2eM")},"data-v-2ba491ef",null);t.default=s.exports}});
//# sourceMappingURL=4.4709d3db0e0e8c85f71a.js.map